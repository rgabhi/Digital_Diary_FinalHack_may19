
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    

    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css">
            <!-- <link rel="stylesheet" type="text/css" href="/stylesheets/app.css"> -->
            <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script> -->
            <link href="https://fonts.googleapis.com/css?family=Waiting+for+the+Sunrise" rel="stylesheet">
           
            <link rel="stylesheet" type="text/css" href="/stylesheets/new.css">
    
    
</head>
<body > 
        <div class="ui main text container segment" id="uiMain" style="background-color:rgb(245, 245, 209)">

                <h1  class = "ui huge header " id="typewrite" >
                        <a href="" class="typewrite" data-period="2000"  style="text-align: center" data-type='[ "Hello Dear", "Happy Writing :) " ]'>
                          <span class="wrap"></span>
                        </a>
                      </h1>
                <!-- <div class = "ui huge header " id="newPage">Happy Writing.....</div> -->
                <!-- <%= typeof msg != 'undefined' ? msg : '' %> -->
                <form class="ui form" action="/diary" method="POST" enctype="multipart/form-data" id="uploadimages">
                    <div class="field">
                        
                        <input type="text" name="page[title]" placeholder="title" style="background-color:rgb(245, 245, 209)">
                    </div>
                    <div class="field">
                            
                            <input type="file" id="files" name="page[image]" placeholder="image" style="background-color:rgb(245, 245, 209)" >
                            <img id="image"> 
                            
                                <video id="video" width="150px" height="150px" autoplay></video>
                                <button id="snap">Snap Photo</button>
                                <canvas id="canvas" width="150px" height="150px"></canvas>
                            
                        </div>

                          
                    
                   
                    <div class="field">
                            
                            <textarea  id="cursive"name="page[body]" style="background-color:rgb(245, 245, 209)" ></textarea>
                           
                    </div>

                    <div class="field">
                            <label>Which mood defines you today ??</label>
                            <img src="/images/happy.gif" alt="happy mood"  class="mood" value="happy">    
                            <img src="/images/sad.gif" alt="sad mood" class="mood" value="sad">
                            <img src="/images/scared.gif" alt="scared" class="mood" value="scared">
                            <img src="/images/angry.gif" alt="angry mood" class="mood" value="angry">
                           
                    </div>
                        
                    <input class="ui inverted big green button" type="submit">
                    <span id = "status"></span>
                
               
                
                
                </form>
                <!-- <img src="<%= typeof file != 'undefined' ? file : '' %>" class="responsive-img"> -->
            </div>
            
                    

               </body>
               <script>
               document.getElementById("files").onchange = function () {
               var reader = new FileReader();

                reader.onload = function(e) {
        // get loaded data and render thumbnail.
                document.getElementById("image").src = e.target.result;
                 };

                 // read the image file as a data URL.
                reader.readAsDataURL(this.files[0]);    
                };







var TxtType = function(el, toRotate, period) {
        this.toRotate = toRotate;
        this.el = el;
        this.loopNum = 0;
        this.period = parseInt(period, 10) || 2000;
        this.txt = '';
        this.tick();
        this.isDeleting = false;
    };

    TxtType.prototype.tick = function() {
        var i = this.loopNum % this.toRotate.length;
        var fullTxt = this.toRotate[i];

        if (this.isDeleting) {
        this.txt = fullTxt.substring(0, this.txt.length - 1);
        } else {
        this.txt = fullTxt.substring(0, this.txt.length + 1);
        }

        this.el.innerHTML = '<span class="wrap">'+this.txt+'</span>';

        var that = this;
        var delta = 200 - Math.random() * 100;

        if (this.isDeleting) { delta /= 2; }

        if (!this.isDeleting && this.txt === fullTxt) {
        delta = this.period;
        this.isDeleting = true;
        } else if (this.isDeleting && this.txt === '') {
        this.isDeleting = false;
        this.loopNum++;
        delta = 500;
        }

        setTimeout(function() {
        that.tick();
        }, delta);
    };

    window.onload = function() {
        var elements = document.getElementsByClassName('typewrite');
        for (var i=0; i<elements.length; i++) {
            var toRotate = elements[i].getAttribute('data-type');
            var period = elements[i].getAttribute('data-period');
            if (toRotate) {
              new TxtType(elements[i], JSON.parse(toRotate), period);
            }
        }
        // INJECT CSS
        var css = document.createElement("style");
        css.type = "text/css";
        css.innerHTML = ".typewrite > .wrap { border-right: 0.08em solid #fff}";
        document.body.appendChild(css);
    };
</script>


<!-- multiple multer -->





<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.51/jquery.form.min.js"></script>
<script>
    //     $(document).ready(function() {
    //        $('#uploadimages').submit(function() {
    //           $("#status").empty().text("File is uploading...");
    //           $(this).ajaxSubmit({
    //               error: function(xhr) {
    //             status('Error: ' + xhr.status);
    //               },
    //               success: function(response) {
    //           console.log(response)
    //               $("#status").empty().text(response);
    //               }
    //       });
    //       return false;
    //       });    
    //   });




// for vedio:


      var video = document.getElementById('video');

// Get access to the camera!
if(navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
    // Not adding `{ audio: true }` since we only want video now
    navigator.mediaDevices.getUserMedia({ video: true }).then(function(stream) {
        //video.src = window.URL.createObjectURL(stream);
        video.srcObject = stream;
        video.play();
    });
}


// Elements for taking the snapshot
var canvas = document.getElementById('canvas');
var context = canvas.getContext('2d');
var video = document.getElementById('video');

// Trigger photo take
document.getElementById("snap").addEventListener("click", function() {

	 context.drawImage(video, 0, 0, 150, 150);
});
      </script>

</html> 
 



<!-- <%include ./partials/footer %>  -->